<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Map making guide</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="map-making-guide">
<h1 class="title">Map making guide</h1>

<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#multiplayer-maps" id="id2">Multiplayer maps</a><ul>
<li><a class="reference internal" href="#where-to-store-a-new-multiplayer-map" id="id3">Where to store a new multiplayer map</a></li>
<li><a class="reference internal" href="#how-to-edit-a-map" id="id4">How to edit a map</a></li>
<li><a class="reference internal" href="#how-to-test-a-map" id="id5">How to test a map</a></li>
<li><a class="reference internal" href="#how-to-find-and-remove-an-error" id="id6">How to find and remove an error</a></li>
<li><a class="reference internal" href="#comments" id="id7">Comments</a></li>
<li><a class="reference internal" href="#basic-properties" id="id8">Basic properties</a><ul>
<li><a class="reference internal" href="#title" id="id9">Title</a></li>
<li><a class="reference internal" href="#objective" id="id10">Objective</a></li>
<li><a class="reference internal" href="#nb-players-min-and-nb-players-max" id="id11">Nb_players_min and nb_players_max</a></li>
<li><a class="reference internal" href="#global-food-limit" id="id12">Global_food_limit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#defining-the-terrain" id="id13">Defining the terrain</a><ul>
<li><a class="reference internal" href="#square-width" id="id14">Square_width</a></li>
<li><a class="reference internal" href="#nb-lines-and-nb-columns" id="id15">Nb_lines and nb_columns</a></li>
<li><a class="reference internal" href="#west-east-paths-and-south-north-paths" id="id16">West_east_paths and south_north_paths</a></li>
<li><a class="reference internal" href="#west-east-bridges-and-south-north-bridges" id="id17">West_east_bridges and south_north_bridges</a></li>
<li><a class="reference internal" href="#general-case-west-east-and-south-north" id="id18">General case: west_east and south_north</a></li>
<li><a class="reference internal" href="#goldmines-woods-and-other-resource-deposits" id="id19">Goldmines, woods, and other resource deposits</a></li>
<li><a class="reference internal" href="#nb-meadows-by-square" id="id20">Nb_meadows_by_square</a></li>
<li><a class="reference internal" href="#additional-meadows" id="id21">Additional_meadows</a></li>
<li><a class="reference internal" href="#remove-meadows" id="id22">Remove_meadows</a></li>
<li><a class="reference internal" href="#high-grounds" id="id23">High_grounds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#defining-the-starting-resources-of-the-players" id="id24">Defining the starting resources of the players</a><ul>
<li><a class="reference internal" href="#case-1-same-resources-for-everybody" id="id25">Case 1: same resources for everybody</a><ul>
<li><a class="reference internal" href="#starting-resources" id="id26">starting_resources</a></li>
<li><a class="reference internal" href="#starting-units" id="id27">starting_units</a></li>
<li><a class="reference internal" href="#starting-squares" id="id28">starting_squares</a></li>
</ul>
</li>
<li><a class="reference internal" href="#case-2-different-resources-depending-on-the-player" id="id29">Case 2: different resources depending on the player</a><ul>
<li><a class="reference internal" href="#player" id="id30">player</a></li>
<li><a class="reference internal" href="#computer-only" id="id31">computer_only</a></li>
</ul>
</li>
<li><a class="reference internal" href="#types-list" id="id32">Types list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#random-choice-end-choice-and-end-random-choice" id="id33">#random_choice,  #end_choice and #end_random_choice</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-multiplayer-maps-how-to-change-the-rules-and-the-aspect-of-the-game" id="id34">Advanced multiplayer maps: how to change the rules and the aspect of the game</a><ul>
<li><a class="reference internal" href="#map-structure" id="id35">Map structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#single-player-campaigns" id="id36">Single player campaigns</a><ul>
<li><a class="reference internal" href="#where-to-store-a-new-single-player-campaign" id="id37">Where to store a new single player campaign</a></li>
<li><a class="reference internal" href="#structure-of-the-campaign-folder" id="id38">Structure of the campaign folder</a><ul>
<li><a class="reference internal" href="#required-mods-file" id="id39">Required mods file</a></li>
<li><a class="reference internal" href="#chapter-files" id="id40">Chapter files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#syntax-of-a-chapter-file" id="id41">Syntax of a chapter file</a><ul>
<li><a class="reference internal" href="#syntax-of-a-mission-chapter-file" id="id42">Syntax of a mission chapter file</a><ul>
<li><a class="reference internal" href="#intro" id="id43">Intro</a></li>
<li><a class="reference internal" href="#add-objective" id="id44">Add_objective</a></li>
<li><a class="reference internal" href="#objective-complete-action-in-a-trigger" id="id45">Objective_complete (action in a trigger)</a></li>
<li><a class="reference internal" href="#timer-coefficiency" id="id46">Timer coefficiency</a></li>
<li><a class="reference internal" href="#cut-scene-action-in-a-trigger" id="id47">Cut_scene (action in a trigger)</a></li>
<li><a class="reference internal" href="#ai-orders" id="id48">AI orders</a></li>
</ul>
</li>
<li><a class="reference internal" href="#syntax-of-a-cut-scene-chapter-file" id="id49">Syntax of a cut scene chapter file</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#map-editor-experimental" id="id50">Map editor (experimental)</a><ul>
<li><a class="reference internal" href="#launch-the-editor" id="id51">Launch the editor</a></li>
<li><a class="reference internal" href="#select-a-terrain-from-the-palette" id="id52">Select a terrain from the palette</a></li>
<li><a class="reference internal" href="#apply-a-terrain-to-a-square" id="id53">Apply a terrain to a square</a></li>
<li><a class="reference internal" href="#toggle-path-to-a-neighbor" id="id54">Toggle path to a neighbor</a></li>
<li><a class="reference internal" href="#save-map" id="id55">Save map</a></li>
<li><a class="reference internal" href="#quit-editor" id="id56">Quit editor</a></li>
<li><a class="reference internal" href="#add-units" id="id57">Add units</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id1">Introduction</a></h1>
<p>The best way to start is probably to make a multiplayer map and test it against the computer.</p>
</div>
<div class="section" id="multiplayer-maps">
<h1><a class="toc-backref" href="#id2">Multiplayer maps</a></h1>
<div class="section" id="where-to-store-a-new-multiplayer-map">
<h2><a class="toc-backref" href="#id3">Where to store a new multiplayer map</a></h2>
<p>If you are allowed to write in the folder where SoundRTS (or SoundRTS test) is installed,
then you can store your first multiplayer map in the &quot;multi&quot; folder.</p>
<p>If you are not allowed to write in the program files folder because you work in non-admin mode, you can store your working map file in the &quot;multi&quot;
folder in &quot;C:\Documents and Settings\Your Login\Application Data\SoundRTS&quot;. This folder is created the first time you start SoundRTS, unless a &quot;user&quot; folder exists near soundrts.exe.
Another solution is to install SoundRTS in a folder where you are allowed to write, and to work in the folder mentionned in the previous paragraph.</p>
</div>
<div class="section" id="how-to-edit-a-map">
<h2><a class="toc-backref" href="#id4">How to edit a map</a></h2>
<p>Open the file with a text editor.
Write in lower case, even if case will be probably ignored anyway.</p>
</div>
<div class="section" id="how-to-test-a-map">
<h2><a class="toc-backref" href="#id5">How to test a map</a></h2>
<p>To test a map, start SoundRTS and go to the single player menu. You can play against the computer on multiplayer maps.
The map is reloaded each time you start a game, so you don't need to restart SoundRTS to test the modifications.
A useful key combination is Control Shift F2: if you are the only human on the map, you will be able to examine the whole map (no fog of war).</p>
</div>
<div class="section" id="how-to-find-and-remove-an-error">
<h2><a class="toc-backref" href="#id6">How to find and remove an error</a></h2>
<p>If, when you start the map, you get the message: &quot;server error&quot; and go back to the server menu, then the details of the error are in a file called &quot;maperror.txt&quot;. This file is in your default temporary folder (for example &quot;C:\Documents and Settings\Your Login\Local Settings\Temp\soundrts&quot;) or in the SoundRTS folder.</p>
<p>In the same directory you may find additional (but cryptic) information in &quot;server.log&quot; or in &quot;client.log&quot;.</p>
<p>If you still don't understand where the error is, feel free to contact me, directly or at the soundRTSChat list.</p>
</div>
<div class="section" id="comments">
<h2><a class="toc-backref" href="#id7">Comments</a></h2>
<p>The lines that start with a semicolon are comments. Comments are ignored at runtime.
Everything after a semicolon until the end of the line is a comment too.</p>
</div>
<div class="section" id="basic-properties">
<h2><a class="toc-backref" href="#id8">Basic properties</a></h2>
<div class="section" id="title">
<h3><a class="toc-backref" href="#id9">Title</a></h3>
<p>&quot;title 4018 5000&quot; means: &quot;the title of the map is the sound 4018 followed by the sound 5000&quot;.</p>
</div>
<div class="section" id="objective">
<h3><a class="toc-backref" href="#id10">Objective</a></h3>
<p>&quot;objective 145 88&quot; means: &quot;the objective of the map is the sound 145 followed by the sound 88&quot;.</p>
</div>
<div class="section" id="nb-players-min-and-nb-players-max">
<h3><a class="toc-backref" href="#id11">Nb_players_min and nb_players_max</a></h3>
<p>&quot;nb_players_min 2&quot; means: &quot;2 players are needed to start the game.&quot;
&quot;nb_players_max 4&quot; means: &quot;4 players in this map is a maximum.&quot;</p>
</div>
<div class="section" id="global-food-limit">
<h3><a class="toc-backref" href="#id12">Global_food_limit</a></h3>
<p>New in version beta 9e.</p>
<p>Update in version beta 10 o: this food limit is not divided among the players anymore.</p>
<p>&quot;global_food_limit 200&quot; means: &quot;Every player cannot have more than 200 food, even if he builds more farms.&quot;</p>
</div>
</div>
<div class="section" id="defining-the-terrain">
<h2><a class="toc-backref" href="#id13">Defining the terrain</a></h2>
<div class="section" id="square-width">
<h3><a class="toc-backref" href="#id14">Square_width</a></h3>
<p>&quot;square_width 12&quot; means: &quot;the square width is 12 meters&quot;.
You shouldn't modify this parameter, since objects may be inaudible if they are too far.</p>
</div>
<div class="section" id="nb-lines-and-nb-columns">
<h3><a class="toc-backref" href="#id15">Nb_lines and nb_columns</a></h3>
<p>&quot;nb_lines 7&quot; mean: &quot;the grid has 7 lines&quot;.
&quot;nb_columns 7&quot; mean: &quot;the grid has 7 columns&quot;.
The limit for columns is 26 and there is no limit for lines, but the actual limit is probably not far from 26 anyway, because of performance.
Warning: nb_rows is deprecated and has the same meaning as nb_columns.</p>
</div>
<div class="section" id="west-east-paths-and-south-north-paths">
<h3><a class="toc-backref" href="#id16">West_east_paths and south_north_paths</a></h3>
<p>&quot;west_east_paths a1 c1 d1 f1&quot; means: &quot;add a path from a1 to b1, from c1 to d1, from d1 to e1, and from f1 to g1&quot;.
You only need to give the west-most square of the path.
&quot;south_north_paths a1 a3 a4 a6&quot; means:  &quot;add a path from a1 to a2, from a3 to a4, from a4 to a5, and from a6 to a7&quot;.
You only need to give the south-most square of the path.</p>
</div>
<div class="section" id="west-east-bridges-and-south-north-bridges">
<h3><a class="toc-backref" href="#id17">West_east_bridges and south_north_bridges</a></h3>
<p>Bridges work exactly like paths.</p>
</div>
<div class="section" id="general-case-west-east-and-south-north">
<h3><a class="toc-backref" href="#id18">General case: west_east and south_north</a></h3>
<p>&quot;west_east road a1 c1 d1&quot; means: &quot;add an exit with the 'road' style from a1 to b1, from c1 to d1, from d1 to e1&quot;</p>
<p>'road' must be defined in style.txt</p>
<p>Note: &quot;west_east_paths&quot; is the same as &quot;west_east path&quot;</p>
<p>Note: &quot;south_north_bridges&quot; is the same as &quot;south_north bridge&quot;</p>
</div>
<div class="section" id="goldmines-woods-and-other-resource-deposits">
<h3><a class="toc-backref" href="#id19">Goldmines, woods, and other resource deposits</a></h3>
<p>&quot;goldmine 150 a2 b7 g6 f1&quot; means: &quot;add goldmines with 150 gold at a2, b7, g6 and f1&quot;.</p>
<p>&quot;wood 150 a2 b7 g6 f1&quot; means: &quot;add woods with 150 wood at a2, b7, g6 and f1&quot;.</p>
<p>&quot;goldmine&quot; and &quot;wood&quot; are defined in rules.txt as resource deposits (&quot;class deposit&quot;).</p>
<p>The old plural keywords (&quot;goldmines&quot; and &quot;woods&quot;) are still working.</p>
</div>
<div class="section" id="nb-meadows-by-square">
<h3><a class="toc-backref" href="#id20">Nb_meadows_by_square</a></h3>
<p>&quot;nb_meadows_by_square 2&quot; means: &quot;auto fill the map with 2 meadows in each square&quot;.</p>
</div>
<div class="section" id="additional-meadows">
<h3><a class="toc-backref" href="#id21">Additional_meadows</a></h3>
<p>&quot;additional_meadows a2 b7 g6 f1&quot; means: &quot;add 1 meadow in the squares a2, b7, g6 and f1&quot;.
&quot;additional_meadows a2 a2 g6&quot; means: &quot;add 2 meadows in a2 and 1 meadow in g6&quot;.</p>
</div>
<div class="section" id="remove-meadows">
<h3><a class="toc-backref" href="#id22">Remove_meadows</a></h3>
<p>remove_meadows do the opposite of additional_meadows.</p>
</div>
<div class="section" id="high-grounds">
<h3><a class="toc-backref" href="#id23">High_grounds</a></h3>
<p>New in SoundRTS 1.2 alpha 9.</p>
<p>&quot;high_grounds a2 b7&quot; means: &quot;a2 and b7 will have a higher altitude&quot;</p>
</div>
</div>
<div class="section" id="defining-the-starting-resources-of-the-players">
<h2><a class="toc-backref" href="#id24">Defining the starting resources of the players</a></h2>
<div class="section" id="case-1-same-resources-for-everybody">
<h3><a class="toc-backref" href="#id25">Case 1: same resources for everybody</a></h3>
<p>Use the following commands in combination:</p>
<div class="section" id="starting-resources">
<h4><a class="toc-backref" href="#id26">starting_resources</a></h4>
<p>&quot;starting_resources 10 10&quot; means: &quot;each player starts with 10 gold and 10 wood.&quot;</p>
</div>
<div class="section" id="starting-units">
<h4><a class="toc-backref" href="#id27">starting_units</a></h4>
<p>&quot;starting_units townhall farm peasant&quot; means: &quot;each player starts with 1 townhall, 1 farm and 1 peasant.&quot;</p>
<p>&quot;starting_units townhall 2 farm peasant&quot; means: &quot;each player starts with 1 townhall, 2 farms and 1 peasant.&quot;</p>
<p>Since SoundRTS 1.1, starting_units can also contain:</p>
<ul class="simple">
<li>upgrades and research: &quot;starting_units u_teleportation&quot; means: &quot;each player has teleportation already researched.&quot;</li>
<li>forbidden units, buildings, abilities, upgrades/research (they won't appear on the menu):<ul>
<li>&quot;starting_units -u_teleportation&quot; means: &quot;each player cannot research teleportation.&quot;</li>
<li>&quot;starting_units -a_teleportation&quot; means: &quot;each player cannot use teleportation.&quot;</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="starting-squares">
<h4><a class="toc-backref" href="#id28">starting_squares</a></h4>
<p>&quot;starting_squares a2 b7 g6 f1&quot; means: &quot;the starting squares of the players are a2, b7, g6 and f1.&quot;</p>
<p>The starting units and buildings will be created in these squares.</p>
</div>
</div>
<div class="section" id="case-2-different-resources-depending-on-the-player">
<h3><a class="toc-backref" href="#id29">Case 2: different resources depending on the player</a></h3>
<div class="section" id="player">
<h4><a class="toc-backref" href="#id30">player</a></h4>
<p>The &quot;player&quot; command defines a starting point that might be used by a human player or by a computer AI (in multiplayer games).</p>
<p>This command can be repeated several times in a multiplayer map.</p>
<p>&quot;player 5 10 -townhall a1 townhall peasant c1 footman&quot;
means: &quot;a player will start with 5 gold, 10 wood, won't be allowed to build a town hall, will have a townhall and a peasant at A1, a footman at C1.</p>
</div>
<div class="section" id="computer-only">
<h4><a class="toc-backref" href="#id31">computer_only</a></h4>
<p>The &quot;computer_only&quot; command defines a starting point that will always be played by a computer AI. This AI will be hostile to any other player or AI.</p>
<p>This command can be repeated several times but be careful: too many AI can slow the game.
So use one AI if these units are not supposed to fight each other (several dragons all over the map for example).</p>
<p>computer_only 0 0 a3 dragon b1 dragon
means: &quot;add a computer AI with 0 gold, 0 wood, a dragon at A3 and a dragon at B1.&quot;</p>
</div>
</div>
<div class="section" id="types-list">
<h3><a class="toc-backref" href="#id32">Types list</a></h3>
<p>Here are some correct names for types used in <a class="reference internal" href="#starting-units">starting_units</a>, <a class="reference internal" href="#player">player</a> and <a class="reference internal" href="#computer-only">computer_only</a> .
For a full list, examine the rules.txt file: the name is just after the &quot;def&quot; statement.</p>
<ul class="simple">
<li>units: peasant footman archer knight catapult dragon mage priest necromancer</li>
<li>buildings: farm barracks lumbermill blacksmith townhall stables workshop dragonslair magestower</li>
<li>abilities: a_teleportation</li>
<li>upgrade/research: u_teleportation melee_weapon</li>
</ul>
</div>
</div>
<div class="section" id="random-choice-end-choice-and-end-random-choice">
<h2><a class="toc-backref" href="#id33">#random_choice,  #end_choice and #end_random_choice</a></h2>
<p>(new in beta 9g)
This preprocessor directive chooses randomly between 2 or more choices delimited by #random_choice,  #end_choice and by #end_random_choice for the last choice.
Each choice consists in zero or more lines.
More than one #random_choice directives can be used in a map file, but they cannot be nested.</p>
<p>This can be used for example to place random resources. For example:
#random_choice
goldmines 500 e2 c6 b3 f5
#end_choice
goldmines 500 d2 d6 b4 f4
#end_choice
goldmines 500 c2 e6 b5 f3
#end_random_choice
The preceding lines mean: &quot;add a goldmine at e2, c6, b3 and f5, or at d2, d6, b4 and f4, or at c2, e6, b5 and f3&quot;. This way, the resources are balanced (if I didn't make a mistake of course). This is only an example.</p>
<p>The title of the map and the number of players cannot be changed this way because the preprocessor is run when the map is loaded (that is to say: long after the single player menu is loaded).</p>
</div>
</div>
<div class="section" id="advanced-multiplayer-maps-how-to-change-the-rules-and-the-aspect-of-the-game">
<h1><a class="toc-backref" href="#id34">Advanced multiplayer maps: how to change the rules and the aspect of the game</a></h1>
<div class="section" id="map-structure">
<h2><a class="toc-backref" href="#id35">Map structure</a></h2>
<p>The advanced map is a folder containing a file called &quot;map.txt&quot; with the content of a usual map, and most files and folders that you find in the &quot;res&quot; folder:
rules.txt, ai.txt, the ui folders and their content.</p>
<p>Note: at the moment, in a map or a campaign folder, the localized version of style.txt (for example: ui-fr/style.txt) isn't loaded.
Localized sounds are loaded though.</p>
</div>
</div>
<div class="section" id="single-player-campaigns">
<h1><a class="toc-backref" href="#id36">Single player campaigns</a></h1>
<div class="section" id="where-to-store-a-new-single-player-campaign">
<h2><a class="toc-backref" href="#id37">Where to store a new single player campaign</a></h2>
<p>If you are allowed to write in the folder where SoundRTS (or SoundRTS test) is installed, then you can store your first campaign in the &quot;single&quot; folder.</p>
<p>If you are not allowed to write in the program files folder because you work in non-admin mode, you can store your working map file in the &quot;single&quot;
folder in &quot;C:\Documents and Settings\Your Login\Application Data\SoundRTS&quot;. This folder is created the first time you start SoundRTS.
Another solution is to install SoundRTS in a folder where you are allowed to write, and to work in the folder mentionned in the previous paragraph.</p>
</div>
<div class="section" id="structure-of-the-campaign-folder">
<h2><a class="toc-backref" href="#id38">Structure of the campaign folder</a></h2>
<p>The name of the campaign folder will be used by the single player menu. Official campaigns will have their own title in the &quot;ui&quot; folder.
The folder contains chapter files. It also contains files and folders imitating the structure of the &quot;res&quot; folder: rules.txt, ai.txt, ui...</p>
<div class="section" id="required-mods-file">
<h3><a class="toc-backref" href="#id39">Required mods file</a></h3>
<p>New in SoundRTS 1.2 alpha 10.</p>
<p>A campaign can define which mods it requires. The required mods will be automatically loaded.</p>
<p>The required mods are defined in a file called &quot;mods.txt&quot;, in the campaign folder:</p>
<ul class="simple">
<li>the file is a comma-separated list of mod names;</li>
<li>if the file doesn't exist, the current mods will be kept;</li>
<li>if the file is empty, the &quot;vanilla&quot; game will be loaded.</li>
</ul>
</div>
<div class="section" id="chapter-files">
<h3><a class="toc-backref" href="#id40">Chapter files</a></h3>
<p>Chapter files are text files called &quot;0.txt&quot;, &quot;1.txt&quot;, &quot;2.txt&quot;, etc. When a campaign is started for the first time, only the chapter 0 is available. When a chapter is finished, the next chapter can be run. The number of the higher chapter available is automatically stored in the player's configuration file called campaigns.ini.</p>
<p>A chapter file describes a mission chapter or a cut scene chapter.</p>
<p>There must be at least one chapter file, called &quot;0.txt&quot;.</p>
</div>
</div>
<div class="section" id="syntax-of-a-chapter-file">
<h2><a class="toc-backref" href="#id41">Syntax of a chapter file</a></h2>
<p>A chapter is a mission or a cut scene.</p>
<div class="section" id="syntax-of-a-mission-chapter-file">
<h3><a class="toc-backref" href="#id42">Syntax of a mission chapter file</a></h3>
<p>A mission file is not very different from a multiplayer map.
The advanced map structure is also allowed: in that case, the folder name is the number of the chapter.</p>
<p>The following commands are not used in a single player mission: nb_players_min, nb_players_max, starting_squares, starting_units, starting_resources.</p>
<div class="section" id="intro">
<h4><a class="toc-backref" href="#id43">Intro</a></h4>
<p>Note: a number can represent a text message defined in tts.txt (new in SoundRTS 1.2 alpha 9).</p>
<p>Example: &quot;intro 7500 7501 7502&quot; means: &quot;before the game starts, play 7500.ogg, 7501.ogg and 7502.ogg (or text if defined in tts.txt)&quot;.
The intro command defines a sequence of sounds and texts that will be played before the game starts. When the player presses a key, the next element in the sequence is played. An intro can be for example a title with music, then a scene with a discussion between characters, then a briefing. After the intro, the game will tell the objectives of the mission.</p>
</div>
<div class="section" id="add-objective">
<h4><a class="toc-backref" href="#id44">Add_objective</a></h4>
<p>&quot;add_objective player1 1 7000&quot; means: &quot;add objective number 1 with the sound 7000.ogg&quot;</p>
<p>All the objectives must be completed to win a mission. If a primary objective fails, for example when an important character dies, the mission is aborted.</p>
</div>
<div class="section" id="objective-complete-action-in-a-trigger">
<h4><a class="toc-backref" href="#id45">Objective_complete (action in a trigger)</a></h4>
<p>This action can only be included in the action part of a trigger.</p>
<p>&quot;objective_complete 1&quot; means: &quot;now objective 1 is complete&quot;</p>
<p>Trigger example:</p>
<p>&quot;trigger player1 (has barracks) (objective_complete 2)&quot; means: &quot;add the following trigger for player1: if he has at least 1 barracks then the objective 2 is completed&quot;</p>
</div>
<div class="section" id="timer-coefficiency">
<h4><a class="toc-backref" href="#id46">Timer coefficiency</a></h4>
<p>A timer coefficient can be used to measure time for triggers in a given block.</p>
<p>For example, if you know that you want all of your triggers to happen in given half a minute blocks, you could set your timer coefficient to 30 like so.</p>
<p>&quot;timer_coefficient 30&quot;</p>
<p>Whenever this amount of time elapses, the timer counter will increment (increase by 1). You can then bind triggers to the timer reaching a given number. For example, if you wanted to make reinforcements appear on the map after 90 seconds (3 increments of 30 seconds), you would do the following.</p>
<p>&quot;trigger player1 (timer 3) (add_units a1 10 footman)&quot; ; after three timer ticks, give the player 10 footman at a1</p>
</div>
<div class="section" id="cut-scene-action-in-a-trigger">
<h4><a class="toc-backref" href="#id47">Cut_scene (action in a trigger)</a></h4>
<p>Note: the distinction between streaming sounds and preloaded sounds have been removed in SoundRTS 1.2. All the sounds are loaded in advance.</p>
<p>Note: a number can represent a text message defined in tts.txt (new in SoundRTS 1.2 alpha 9).</p>
<p>A cut scene can be triggered in the middle of a game: when something is discovered, when reinforcements arrive, etc.</p>
<p>&quot;cut_scene 7500 7501&quot; means: play the cut scene made up of the sounds 7500 and 7501.</p>
<p>Trigger example:</p>
<p>&quot;trigger player1 (has_entered d5) (cut_scene 7500)&quot; means: &quot;add the following trigger for player1: if he has entered the square d5, then play the cut scene made up of the sound 7500.ogg&quot;</p>
<p>Timer and timer_coefficient (condition in a trigger)</p>
<p>&quot;timer_coefficient 60&quot;</p>
<p>'trigger player1 (timer 2) (cut_scene 7500)&quot; means: &quot;after 2 minutes (2 x 60 seconds) play the 7500.ogg sound file.&quot;</p>
</div>
<div class="section" id="ai-orders">
<h4><a class="toc-backref" href="#id48">AI orders</a></h4>
<p>It is possible to control the computer's actions in a mission, to add some challenge. You will have to do this by directly making their units take orders at given triggers.</p>
<p>For example, we can make the AI forces at A1 move to the known player location at A3, who will engage player forces as they encounter them. Here, we will launch an attack with 10 footman on the player.</p>
<p>&quot;timer_coefficient 60&quot;</p>
<p>&quot;trigger computer1 (timer 1) (order (a3 10 footman) ((go a1)))&quot;</p>
<p>The placement of brackets is important here, to encapsulate the right commands in the right parts of this trigger. If for some reason your trigger isn't seeming to work, try double checking your brackets.</p>
<p>It is also possible to queue up orders for the given units to follow. In this next scenario, lets imagine the player has their base spread over a1 and b1. We would then need to tell the footmen to go to b1 once they've finished with a1. We would do that like so.</p>
<p>&quot;trigger computer1 (timer 1) (order (a3 10 footman) ((go a1) (go b1)))&quot;</p>
<p>Finally, if you want the AI units to go into &quot;auto_attack&quot; mode, where they will hunt down any surviving player units after mopping up their base, you can do this as well.</p>
<p>&quot;trigger computer1 (timer 1) (order (a3 10 footman) ((go a1) (go b1) (auto_attack)))&quot;</p>
<p>You can use orders to make the computer train up its own units, too, which you can then make the subject of later orders. Here, we will tell the computer barracks to immediately train up another 10 footmen to replace the ones we're about to send to attack the player.</p>
<p>trigger computer1 (timer 0) (order (a1 barracks) ((train footman) (train footman) (train footman))) ; and so on and so on until you have 10 train footman orders</p>
<p>Note that each training order has to be separate, you cannot do the following: (train 10 footman)</p>
<p>This is not the only way to increase the amount of units the computer player has at its disposal, you could also use the add_units order as shown here.</p>
<p>trigger computer1 (timer 0) (add_units a1 10 footman)</p>
<p>However, this is immediate and doesn't offer the player any way to influence this event. In the other scenario, the player can stop the computer having its next batch of footmen by destroying the barracks used to train them. This way, these footmen will appear regardless.</p>
</div>
</div>
<div class="section" id="syntax-of-a-cut-scene-chapter-file">
<h3><a class="toc-backref" href="#id49">Syntax of a cut scene chapter file</a></h3>
<p>Note: the distinction between streaming sounds and preloaded sounds have been removed in SoundRTS 1.2. All the sounds are loaded in advance.</p>
<p>Note: a number can represent a text message defined in tts.txt (new in SoundRTS 1.2 alpha 9).</p>
<p>A cut scene chapter is an interruptible sequence of sounds. When the cut scene chapter has been played, the next chapter is unlocked.
Do not confuse with shorter cut scenes run by a trigger during a mission when a condition is met (discovery of a square for example), or with the mission's introduction (or briefing).</p>
<p>The cut scene chapters have only 3 lines. For example:
cut_scene_chapter
title 7000
sequence 7500 7501 7502</p>
<p>The first line is a keyword used to tell the game that this chapter is a cut scene and not a mission.
The title line is used in the campaign menu.
The sequence line means: &quot;play the sound 7500.ogg followed by 7501 and 7502; if the player presses a key, skip the current sound and play the next one.&quot;</p>
</div>
</div>
</div>
<div class="section" id="map-editor-experimental">
<h1><a class="toc-backref" href="#id50">Map editor (experimental)</a></h1>
<p>The client includes an experimental map editor for multiplayer maps. It only works for the terrain, so you still have to edit manually the map for the units.</p>
<div class="section" id="launch-the-editor">
<h2><a class="toc-backref" href="#id51">Launch the editor</a></h2>
<p>Start a game on a map. This map will be the starting point. Enter the console (press the key under escape) and enter the command: &quot;edit&quot;. Press Enter. The editor keyboard bindings will be loaded from res/ui/editor_bindings.txt.</p>
</div>
<div class="section" id="select-a-terrain-from-the-palette">
<h2><a class="toc-backref" href="#id52">Select a terrain from the palette</a></h2>
<p>Press PageUp or PageDown to select a terrain. The meaning of each terrain is stored in res/ui/editor_palette.txt</p>
</div>
<div class="section" id="apply-a-terrain-to-a-square">
<h2><a class="toc-backref" href="#id53">Apply a terrain to a square</a></h2>
<p>Press Enter to apply the terrain to the current square. Neighboring squares with the same caracteristics (ground and same height) will be linked automatically by a path. Different squares will have their path removed.</p>
</div>
<div class="section" id="toggle-path-to-a-neighbor">
<h2><a class="toc-backref" href="#id54">Toggle path to a neighbor</a></h2>
<p>Press Control + Shift + arrow to add or remove the path in the corresponding direction.</p>
</div>
<div class="section" id="save-map">
<h2><a class="toc-backref" href="#id55">Save map</a></h2>
<p>Press Control + s to save the map. The file will never overwrite another file. The name of the file will be user/multi/editor0.txt, editor1.txt, editor2.txt, etc.</p>
</div>
<div class="section" id="quit-editor">
<h2><a class="toc-backref" href="#id56">Quit editor</a></h2>
<p>Press F10 and quit the game to leave the editor. An autosave of the map will be done just in case (but don't count on it too much). Its name is user/multi/editor_autosave.txt</p>
</div>
<div class="section" id="add-units">
<h2><a class="toc-backref" href="#id57">Add units</a></h2>
<p>Open the file in a text editor. Use commands mentionned in <a class="reference internal" href="#defining-the-starting-resources-of-the-players">Defining the starting resources of the players</a>.</p>
</div>
</div>
</div>
</body>
</html>
